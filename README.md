# 概要

これはアイドルマスターシンデレラガールズのアイドルが毎朝ランダムで天気予報のツイートをするためのアプリケーションである。  
今のところ `tweet03.py` を動かすことでツイートできる。  
現在のところ、天気をお知らせてくれるアイドルは *島村卯月、渋谷凛、本田未央、双葉杏、アナスタシア、堀裕子* の６人の中からランダムで選ばれる。

---

# 変遷
Twitterで自動ツイートを始めようと思ったのが2017年11月の中頃で、とりあえず実装可能な状況にまで漕ぎつけたのが12月の10日頃である。
残る障壁は自動でツイートすることとなった。
PCのターミナルでコマンドを打つことでも実行できるが、**Heroku** を使うことにより定期的な自動ツイートが可能となることが分かった。
Herokuを使うにあたり苦労したのはHerokuについて書いてある書籍がほとんど無かったことだ。ネット上のサイトでの情報収集に四苦八苦した。
本はお金がかかるが、時間的なコスパは非常によい。  
しかしHerokuのアドオンを使用するにはクレジットカードが必要なのであるッ！それゆえカードが手元に届くまでもうしばらくの辛抱となる。  
2017年12月の中頃、いよいよクレジットカードをゲットする。Heroku Schedulerの設定ができたので、いよいよ自動ツイートが可能となった。  
余裕があればさらなる機能拡張を目指していきたい。

------
# 仕組み
このプログラムは大きく分けて３つの部分からなる。

## 1.  天気予報の情報を収集する
`get_tenki.py`により天気予報の情報を取得する。天気予報の取得源の候補として、 [livedoor天気情報](http://weather.livedoor.com/weather_hacks/webservice) ,
[OpenWeatherMap](https://openweathermap.org) , [drk7.jp](http://www.drk7.jp/weather/) などがあり、
それぞれデータの形式が違うのでそれぞれの情報源を活用可能な状態にするスクリプトを作るのに時間がかかった。  
結局のところ実装の準備中で天気の情報が最も正確に感じられた [drk7.jp](http://www.drk7.jp/weather/) という気象庁の天気予報のxmlデータを活用させていただいている。  

## 2.  アイドルごとのセリフの設定
`udsuki.py`など各アイドルの名前のモジュールを用いて天気に応じたセリフを割り当てる。声は当てられないので各自の想像力で補ってください。

## 3.  上記の２つをもとにして画像を添付したツイートをする
最終的にツイートを`tweet03.py`によって行う。画像は複数枚の中からランダムに選ばれる。

---
